language: objective-c
osx_image: xcode11.3
cache:
- bundler
script:
- xcodebuild test -project Example/RFIBANHelper.xcodeproj -scheme RFIBANHelper build
  test -destination platform='iOS Simulator,name=iPhone 11,OS=latest'
- bundle exec pod lib lint --quick
after_success:
- bash <(curl -s https://codecov.io/bash)
before_install:
- gem install bundler
- brew update
- brew outdated carthage || brew upgrade carthage
before_deploy:
- carthage build --no-skip-current
- carthage archive RFIBANHelper
deploy:
  provider: releases
  api_key:
    secure: your-travis-release-token-here
  file: RFIBANHelper.framework.zip
  skip_cleanup: true
  on:
    repo: readefries/IBAN-Helper
    tags: true
